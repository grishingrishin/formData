"use strict";

(function () {
  var form = document.querySelector('.form');
  var action = form.action;
  var method = form.method;
  if (!action || !method) return;
  form.addEventListener('submit', XMLHttpRequestHandler);

  function XMLHttpRequestHandler(e) {
    e.preventDefault(); // Отменяем событие по умолчанию для предотвращения отправки формы.

    var require = new XMLHttpRequest(); // Создаем экземпляр объекта - XMLHttpRequestHandler.


    var self = this; // cохраняем ссылку на форму в переменную.

    require.onerror = function (e) {
      return console.log('Error ' + e.target.status + ' occurred while receiving the document.');
    }; // Прицепляем событие которое сработает при возникновении ошибки.


    require.open(method, action, true); // Уставливаем true для асинхронной работы.


    require.send(new FormData(self)); // Отпправляем запрос на сервер.


    this.reset(); // Очищаем форму после отправки.

    return false;
  }
})();
//# sourceMappingURL=common.min.js.map
