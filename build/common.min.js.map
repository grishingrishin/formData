{"version":3,"sources":["ajax.js"],"names":["form","document","querySelector","action","method","addEventListener","XMLHttpRequestHandler","e","preventDefault","require","XMLHttpRequest","self","onerror","console","log","target","status","open","send","FormData","reset"],"mappings":";;AAAA,CAAA,YAAA;AAEA,MAAAA,IAAA,GAAAC,QAAA,CAAAC,aAAA,CAAA,OAAA,CAAA;AAEA,MAAAC,MAAA,GAAAH,IAAA,CAAAG,MAAA;AACA,MAAAC,MAAA,GAAAJ,IAAA,CAAAI,MAAA;AAEA,MAAA,CAAAD,MAAA,IAAA,CAAAC,MAAA,EAAA;AAEAJ,EAAAA,IAAA,CAAAK,gBAAA,CAAA,QAAA,EAAAC,qBAAA;;AAEA,WAAAA,qBAAA,CAAAC,CAAA,EAAA;AACAA,IAAAA,CAAA,CAAAC,cAAA,GADA,CACA;;AAEA,QAAAC,OAAA,GAAA,IAAAC,cAAA,EAAA,CAHA,CAGA;;;AAEA,QAAAC,IAAA,GAAA,IAAA,CALA,CAKA;;AAEAF,IAAAA,OAAA,CAAAG,OAAA,GAAA,UAAAL,CAAA;AAAA,aAAAM,OAAA,CAAAC,GAAA,CAAA,WAAAP,CAAA,CAAAQ,MAAA,CAAAC,MAAA,GAAA,yCAAA,CAAA;AAAA,KAAA,CAPA,CAOA;;;AAEAP,IAAAA,OAAA,CAAAQ,IAAA,CAAAb,MAAA,EAAAD,MAAA,EAAA,IAAA,EATA,CASA;;;AACAM,IAAAA,OAAA,CAAAS,IAAA,CAAA,IAAAC,QAAA,CAAAR,IAAA,CAAA,EAVA,CAUA;;;AAEA,SAAAS,KAAA,GAZA,CAYA;;AAEA,WAAA,KAAA;AACA;AAEA,CA5BA","file":"common.min.js","sourcesContent":["(() => {\r\n\r\nconst form = document.querySelector('.form');\r\n\r\nconst action = form.action;\r\nconst method = form.method; \r\n\r\nif (!action || !method) return;\r\n\r\nform.addEventListener('submit', XMLHttpRequestHandler);\r\n\r\nfunction XMLHttpRequestHandler(e) {\r\n  e.preventDefault(); // Отменяем событие по умолчанию для предотвращения отправки формы.\r\n  \r\n  const require = new XMLHttpRequest(); // Создаем экземпляр объекта - XMLHttpRequestHandler.\r\n\r\n  const self = this; // cохраняем ссылку на форму в переменную.\r\n\r\n  require.onerror = (e) => console.log('Error ' + e.target.status + ' occurred while receiving the document.'); // Прицепляем событие которое сработает при возникновении ошибки.\r\n\r\n  require.open(method, action, true); // Уставливаем true для асинхронной работы.\r\n  require.send(new FormData(self)); // Отпправляем запрос на сервер.\r\n\r\n  this.reset(); // Очищаем форму после отправки.\r\n\r\n  return false;\r\n}\r\n\r\n})();"]}